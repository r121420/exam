<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é…¸æ€§é›¨ãƒ†ã‚¹ãƒˆ</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --success-color: #2e7d32;
            --error-color: #c62828;
            --bg-color: #ffffff;
            --item-bg: #f8f9fa;
        }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Meiryo", sans-serif;
            max-width: 100%;
            margin: 0;
            padding: 0;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: var(--bg-color);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            font-size: 1.5rem;
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary-color);
        }

        .quiz-item {
            background-color: var(--item-bg);
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 5px solid #ddd;
        }

        .question-number {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .question-text {
            font-size: 1rem;
            word-wrap: break-word;
        }

        input[type="text"] {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 6px 10px;
            margin: 4px 2px;
            font-size: 16px; /* iOSã®ã‚ºãƒ¼ãƒ é˜²æ­¢ */
            width: calc(100% - 24px); /* ã‚¹ãƒãƒ›ã§ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ */
            max-width: 200px;
            box-sizing: border-box;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }

        /* åˆ¤å®šç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .quiz-item.correct { border-left-color: var(--success-color); background-color: #e8f5e9; }
        .quiz-item.incorrect { border-left-color: var(--error-color); background-color: #ffebee; }
        input.correct { border-color: var(--success-color); background-color: #fff; }
        input.incorrect { border-color: var(--error-color); background-color: #fff; }

        .feedback {
            display: none;
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .feedback.show { display: block; }
        .feedback.correct { color: var(--success-color); }
        .feedback.incorrect { color: var(--error-color); border: 1px dashed var(--error-color); }

        .score-display {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding: 15px;
            background-color: #eef6ff;
            border-radius: 8px;
            display: none;
        }

        .button-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        button {
            padding: 12px 24px;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: opacity 0.2s;
            flex: 1;
            max-width: 150px;
        }

        .submit-btn { background-color: var(--primary-color); color: white; }
        .reset-btn { background-color: #95a5a6; color: white; }
        button:active { opacity: 0.8; }

        /* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»PCå‘ã‘èª¿æ•´ */
        @media (min-width: 600px) {
            .container { padding: 40px; margin: 40px auto; }
            h1 { font-size: 2rem; }
            input[type="text"] { width: auto; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸŒ§ï¸ é…¸æ€§é›¨ãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="score-display" id="scoreDisplay"></div>

    <form id="quizForm">
        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 1</div>
            <div class="question-text">
                é…¸æ€§é›¨ã¨ã¯ã€pHãŒ<input type="text" data-answer="5.6" placeholder="æ•°å€¤">ä»¥ä¸‹ã®ã‚‚ã®ã¨å®šç¾©ã•ã‚Œã€äºŒé…¸åŒ–ç¡«é»„ã‚„çª’ç´ é…¸åŒ–ç‰©ã‚’èµ·æºã¨ã™ã‚‹ã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 2</div>
            <div class="question-text">
                æ±šæŸ“ç‰©è³ªãŒé›¨ã‚„éœ§ã«ç§»è¡Œã™ã‚‹ã“ã¨ã‚’<input type="text" data-answer="æ¹¿æ€§æ²ˆç€" placeholder="å›ç­”">ã€åœŸå£Œã‚„æ¤ç‰©ãªã©ã«ç›´æ¥ä»˜ç€ã™ã‚‹ã“ã¨ã‚’<input type="text" data-answer="ä¹¾æ€§æ²ˆç€" placeholder="å›ç­”">ã¨ã„ã†ã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 3</div>
            <div class="question-text">
                é…¸æ€§é›¨ã¯ã€19ä¸–ç´€ã®åŠã°ã«ã‚¤ã‚®ãƒªã‚¹ã§åˆã‚ã¦è¦³æ¸¬ã•ã‚Œã€<input type="text" data-answer="ç”£æ¥­é©å‘½" placeholder="å›ç­”">ã‚’æ©Ÿã«<input type="text" data-answer="çŸ³ç‚­" placeholder="å›ç­”">ã®ä½¿ç”¨é‡ãŒå¢—å¤§ã—ãŸãŸã‚ã«ç™ºç”Ÿã—ãŸã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 4</div>
            <div class="question-text">
                1952å¹´ã®<input type="text" data-answer="ãƒ­ãƒ³ãƒ‰ãƒ³ã‚¹ãƒ¢ãƒƒã‚°äº‹ä»¶" placeholder="å›ç­”">ç›´å¾Œã®é›¨ã®pHã¯1.4~1.9ã¨è¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 5</div>
            <div class="question-text">
                ãƒ‰ã‚¤ãƒ„å—è¥¿éƒ¨ã®<input type="text" data-answer="ã‚·ãƒ¥ãƒ´ã‚¡ãƒ«ãƒ„ãƒ´ã‚¡ãƒ«ãƒˆ" placeholder="å›ç­”">ï¼ˆé»’ã„æ£®ï¼‰ã§ã¯å¤šãã®æœ¨ã€…ãŒæ¯ã‚ŒãŸã€‚æ£®ã®ç´„75ï¼…ãŒé…¸æ€§é›¨ã§è¢«å®³ã‚’å—ã‘ãŸã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 6</div>
            <div class="question-text">
                æ—¥æœ¬ã§ã¯1973å¹´ã«<input type="text" data-answer="é…¸æ€§éœ§" placeholder="å›ç­”">ã«ã‚ˆã‚‹è¢«å®³ã‚’ç¢ºèªã—ãŸã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 7</div>
            <div class="question-text">
                ç¾åœ¨é…¸æ€§é›¨ãŒæœ€ã‚‚é€²è¡Œã—ã¦ã„ã‚‹å›½ã¯<input type="text" data-answer="ä¸­å›½" placeholder="å›ç­”">
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 8</div>
            <div class="question-text">
                æ²ˆç€ã—ãŸå¤§æ°—æ±šæŸ“ç‰©è³ªã®ã“ã¨ã‚’<input type="text" data-answer="é…¸æ€§é™ä¸‹ç‰©" placeholder="å›ç­”">ã¨ã„ã†ã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 9</div>
            <div class="question-text">
                æ—¥æœ¬ã§ã¯ã€é…¸æ€§é›¨ã‚ˆã‚Šã‚‚<input type="text" data-answer="é…¸æ€§éœ§" placeholder="å›ç­”">ã®æ–¹ãŒå•é¡Œã§ã‚ã‚‹ã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 10</div>
            <div class="question-text">
                å¯¾ç­–ã¨ã—ã¦ã¯ã€çŸ³ç‚­ã‚„çŸ³æ²¹ã«å«ã¾ã‚Œã‚‹ç¡«é»„ã‚’äº‹å‰ã«å–ã‚Šé™¤ã<input type="text" data-answer="é¸ç‚­" placeholder="å›ç­”">ã€<input type="text" data-answer="è„±ç¡«" placeholder="å›ç­”">ã‚„ã€é…¸æ€§åŒ–ã—ãŸæ¹–æ²¼ã«<input type="text" data-answer="çŸ³ç°" placeholder="å›ç­”">ã‚’ã°ã‚‰æ’’ã„ã¦ä¸­å’Œã™ã‚‹ã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 11</div>
            <div class="question-text">
                1979å¹´ã«<input type="text" data-answer="ã‚¸ãƒ¥ãƒãƒ¼ãƒ´æ¡ç´„" placeholder="å›ç­”">ãŒç· çµã•ã‚ŒãŸã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question-number">å•é¡Œ 12</div>
            <div class="question-text">
                1985å¹´ã«ã¯<input type="text" data-answer="ãƒ˜ãƒ«ã‚·ãƒ³ã‚­è­°å®šæ›¸" placeholder="å›ç­”">ã«ãŠã„ã¦ç¡«é»„ã®å¤§æ°—ä¸­ã¸ã®æ’å‡º30ï¼…æ¸›ã‚’ç›®æ¨™åŒ–ã—ãŸã€‚
            </div>
            <div class="feedback"></div>
        </div>

        <div class="button-container">
            <button type="submit" class="submit-btn">æ¡ç‚¹ã™ã‚‹</button>
            <button type="button" class="reset-btn" onclick="resetQuiz()">ãƒªã‚»ãƒƒãƒˆ</button>
        </div>
    </form>
</div>

<script>
 function normalize(str) {
    // å…¨è§’è‹±æ•°å­—ã‚’åŠè§’ã«ã€å¤§æ–‡å­—ã‚’å°æ–‡å­—ã«å¤‰æ›ã—ã€ç©ºç™½ã‚’é™¤å»
    return str.trim()
        .replace(/[ï¼-ï½]/g, function(s) {
            return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
        })
        .replace(/\s+/g, '')
        .toLowerCase();
}

document.getElementById('quizForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    let totalInputs = 0;
    let correctInputs = 0;
    const quizItems = document.querySelectorAll('.quiz-item');

    quizItems.forEach(item => {
        const inputs = item.querySelectorAll('input[type="text"]');
        const feedback = item.querySelector('.feedback');
        let itemAllCorrect = true;
        let correctAnswersList = [];
        
        inputs.forEach(input => {
            totalInputs++;
            const userAnswer = normalize(input.value);
            const correctAnswer = normalize(input.dataset.answer);
            correctAnswersList.push(input.dataset.answer);

            input.classList.remove('correct', 'incorrect');
            
            // ã‚«ãƒ³ãƒã‚„ã€Œã€ã€ã§åŒºåˆ‡ã‚‰ã‚ŒãŸè¤‡æ•°ã®æ­£è§£å€™è£œã«å¯¾å¿œ
            const validAnswers = correctAnswer.split(/[ã€,]/);
            const isCorrect = validAnswers.some(ans => normalize(ans) === userAnswer);

            if (isCorrect) {
                input.classList.add('correct');
                correctInputs++;
            } else {
                input.classList.add('incorrect');
                itemAllCorrect = false;
            }
        });

        feedback.classList.remove('show', 'correct', 'incorrect');
        if (itemAllCorrect) {
            item.classList.add('correct');
            item.classList.remove('incorrect');
            feedback.textContent = 'âœ“ æ­£è§£ï¼';
            feedback.classList.add('show', 'correct');
        } else {
            item.classList.add('incorrect');
            item.classList.remove('correct');
            feedback.textContent = `âœ— æ­£è§£ã¯: ${correctAnswersList.join(' / ')}`;
            feedback.classList.add('show', 'incorrect');
        }
    });

    // --- ã‚¹ã‚³ã‚¢ã¨ã‚³ãƒ¡ãƒ³ãƒˆã®è¡¨ç¤ºå‡¦ç† ---
    const scoreDisplay = document.getElementById('scoreDisplay');
    const percentage = Math.round((correctInputs / totalInputs) * 100);
    
    let comment = "";
    let color = "";

    if (percentage === 100) {
        comment = "å½“æ—¥ã¯é–¢æ•°é›»å“ã¨å®šè¦ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚";
        color = "#2e7d32";
    } else if (percentage >= 80) {
        comment = "ç’°å¢ƒã‚‚ã‚„ã‘ã©ã­ã€å“è³ªç®¡ç†ã‚‚ã­ã€å‹‰å¼·ã—ã¦ãã ã•ã„ã­ã€‚";
        color = "#1976d2";
    } else if (percentage >= 50) {
        comment = "ãˆã€ç’°å¢ƒè½ã¨ã™ã¤ã‚‚ã‚Š...ï¼Ÿ";
        color = "#f57c00";
    } else {
        comment = "ã‚ã€å“ç®¡ã«å…¨æŒ¯ã‚Šã•ã‚Œã‚‹æ–¹ã§ã™ã­ã€‚";
        color = "#d32f2f";
    }

    scoreDisplay.innerHTML = `
        <div>çµæœ: ${correctInputs} / ${totalInputs} æ­£è§£ (${percentage}%)</div>
        <div style="font-size: 1rem; margin-top: 8px; color: ${color};">${comment}</div>
    `;
    scoreDisplay.style.display = 'block'; // display: noneã‚’è§£é™¤
    scoreDisplay.classList.add('show');
    window.scrollTo({ top: 0, behavior: 'smooth' });
});

function resetQuiz() {
    document.getElementById('quizForm').reset();
    document.querySelectorAll('.quiz-item, input, .feedback').forEach(el => {
        el.classList.remove('correct', 'incorrect', 'show');
    });
    const scoreDisplay = document.getElementById('scoreDisplay');
    scoreDisplay.style.display = 'none'; // ã‚¹ã‚³ã‚¢ã‚’éš ã™
    scoreDisplay.classList.remove('show');
    window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
